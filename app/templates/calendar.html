{% extends "base.html" %}

{% block title %}Kampanijų kalendorius - TV Planner{% endblock %}

{% block content %}
<div data-calendar-events="{{ url_for('calendar.calendar_events') }}"
     data-calendar-month="{{ url_for('calendar.calendar_month_data', year=0, month=0) }}">
  
  <!-- Page Header -->
  <div class="mb-6">
    <h1 class="text-3xl font-bold text-gray-900">Kampanijų kalendorius</h1>
    <p class="mt-1 text-sm text-gray-600">Peržiūrėkite ir valdykite kampanijų bei bangų tvarkaraščius</p>
  </div>
  <!-- Calendar Navigation -->
  <div class="bg-white rounded-xl shadow-sm border border-gray-200 p-6 mb-6">
    <div class="flex items-center justify-between mb-4">
      <button id="prevMonth" class="inline-flex items-center px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:border-gray-500 transition-colors">
        <svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path>
        </svg>
        Ankstesnis
      </button>
      <h2 id="currentMonth" class="text-xl font-semibold text-gray-900"></h2>
      <button id="nextMonth" class="inline-flex items-center px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:border-gray-500 transition-colors">
        Kitas
        <svg class="w-4 h-4 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
        </svg>
      </button>
    </div>
    
    <div class="flex items-center gap-6 text-sm">
      <div class="flex items-center gap-2">
        <div class="w-3 h-3 rounded bg-gray-300"></div>
        <span class="text-gray-600">Kampanijos</span>
      </div>
      <div class="flex items-center gap-2">
        <div class="w-3 h-3 rounded bg-emerald-200"></div>
        <span class="text-gray-600">Bangos</span>
      </div>
    </div>
  </div>

  <!-- Calendar Grid -->
  <div class="bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden">
    <!-- Calendar Header -->
    <div class="grid grid-cols-7 border-b border-gray-200">
      <div class="p-4 text-center font-medium text-gray-700 bg-gray-50">Pirmadienis</div>
      <div class="p-4 text-center font-medium text-gray-700 bg-gray-50">Antradienis</div>
      <div class="p-4 text-center font-medium text-gray-700 bg-gray-50">Trečiadienis</div>
      <div class="p-4 text-center font-medium text-gray-700 bg-gray-50">Ketvirtadienis</div>
      <div class="p-4 text-center font-medium text-gray-700 bg-gray-50">Penktadienis</div>
      <div class="p-4 text-center font-medium text-gray-700 bg-gray-50">Šeštadienis</div>
      <div class="p-4 text-center font-medium text-gray-700 bg-gray-50">Sekmadienis</div>
    </div>
    
    <!-- Calendar Body -->
    <div id="calendarGrid" class="grid grid-cols-7">
      <!-- Calendar cells will be generated by JavaScript -->
    </div>
  </div>

  <!-- Event Details Modal (hidden by default) -->
  <div id="eventModal" class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50">
    <div class="bg-white rounded-lg p-6 max-w-md w-full mx-4 shadow-xl">
      <div class="flex items-center justify-between mb-4">
        <h3 id="eventTitle" class="text-lg font-semibold text-gray-900"></h3>
        <button id="closeModal" class="text-gray-400 hover:text-gray-600 focus:outline-none">
          <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
          </svg>
        </button>
      </div>
      <div id="eventDetails" class="space-y-2 text-sm text-gray-600"></div>
      <div class="mt-6 flex gap-2">
        <a id="eventLink" href="#" class="inline-flex items-center px-4 py-2 text-sm font-medium text-gray-700 bg-gray-50 border border-gray-200 rounded-md hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-500 transition-colors">
          Atidaryti kampaniją
        </a>
      </div>
    </div>
  </div>
</div>
{% endblock %}

{% block scripts %}
<script defer src="{{ url_for('static', filename='js/calendar.js') }}?v=2"></script>
{% endblock %}